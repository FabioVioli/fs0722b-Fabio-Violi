<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Costruttori</title>
</head>
<body>
    <!-- Con la notazione letterale, possiamo costruire degli oggetti rapidamente -->
    <!-- Però immaginiamo di aver bisogno di più oggetti dello stesso tipo -->
    <!-- Ad esempio, più oggetti persona che condividono la stessa struttura  -->


    <script>
        var persona = {
            nome: "Mario",
            cognome: "Rossi",
            indirizzo: "Via Garibaldi, 50 - Roma",
            email: "Mario.Rossi@epicode.it",
            mostraNomeCompleto: function(){},
            calcolaCodiceFiscale: function(){}
        }

        // se usassimo l'annotazione letterale, saremo costretti a ripetere l'annotazione per ogni singolo oggetto che vogliamo andare a creare.

        // così facendo dunque, otteniamo un codice non riutilizzabile

        // per ridefinire da zero oggetti che hanno la stessa struttura, esiste un costruttore

        // un costruttore è una funzione javascript che invochiamo con l'operatoe new

        function persona(){  // definisce le proprietà dell'oggetto assegnandole a se stessa ( this )
            this.nome = "";
            this.cognome = "";
            this.indirizzo = "";
            this.email = "";
            this.mostraNomeCompleto = function(){};
            this.calcolaCodiceFiscale = function(){};

        }

        // per creare un oggetto di tipo persona, invoco la funzione tramite l'operatore new

        var marioRossi = new persona(); // convenzione del maiuscolo ( non obbligo, ma convenzione ) - New è fondamentale, perché altrimenti eseguiamo una funzione.
        marioRossi.nome = "Mario";
        marioRossi.cognome = "Rossi";

        var giuseppeVerdi = new persona();
        giuseppeVerdi.nome = "Giuseppe";
        giuseppeVerdi.cognome = "Verdi";

        // creo n oggetti con la stessa struttura, e imposto solo i valori specifici.

        // quanto fatto fino ad ora, può essere anche parametrizzato

        function persona(nome, cognome){  
            this.nome = nome;
            this.cognome = cognome;
            this.indirizzo = "";
            this.email = "";
            this.mostraNomeCompleto = function(){};
            this.calcolaCodiceFiscale = function(){};

        }

        var marioRossi = new persona ("Mario", "Rossi");
        var giuseppeVerdi = new persona ("Giuseppe", "Verdi")
    </script>
</body>
</html>